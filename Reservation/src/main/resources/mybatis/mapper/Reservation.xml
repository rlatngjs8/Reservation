<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
						 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.himedia.springboot.ReservationDAO">
<select id="getList2" resultType="com.himedia.springboot.ReservationDTO">
	select a.seqno, b.userid, b.name, b.mobile, c.space_name, a.useday, a.startTime, a.endTime, a.totalPrice, a.purchaseTime
		from re_info a inner join members b on a.userid = b.userid inner join spaces c on a.space_name = c.space_name limit #{param1}, #{param2}
</select>
<select id="getTotal2" resultType="int">
	select count(*) from re_info
</select>
<delete id="reDelete" parameterType="int">
	delete from re_info where seqno = #{seqno}
</delete>
<select id="selectList" resultType="com.himedia.springboot.ReservationDTO">
	select * from re_info where userid=#{userid}
</select>
<select id="payCom" resultType="com.himedia.springboot.ReservationDTO">
	select a.seqno, b.userid, b.name, b.mobile, c.space_name, a.useday, a.startTime, a.endTime, a.totalPrice, a.purchaseTime
		from re_info a inner join members b on a.userid = b.userid inner join spaces c on a.space_name = c.space_name where seqno=#{seqno}
</select>
<select id="sales" resultType="com.himedia.springboot.ReservationDTO">
    SELECT seqno, purchaseTime, totalPrice FROM re_info WHERE purchaseTime BETWEEN #{param1} AND #{param2} ORDER BY purchaseTime DESC
</select>
</mapper>